{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","path","id","className","s","dialog","to","dialog__item","src","alt","dialog__name","name","Message","message","maxLength100","maxLengthCreator","reduxForm","form","onSubmit","handleSubmit","dContents","Field","component","Textarea","validate","placeholder","messages__newMessage__button","Dialogs","useEffect","document","title","state","dialogsPage","dialogsElements","dialogs","map","d","key","messagesElements","messages","m","dialogs__items","dialogs__heading","messages__chat","messages__newMessage","formData","sendMessage","newMessageText","mapStateToPropsForRedirect","isAuth","auth","DialogsContainer","compose","connect","dispatch","sendNewMessageActionCreator","Component"],"mappings":"6FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,eAAiB,gCAAgC,iBAAmB,kCAAkC,OAAS,wBAAwB,WAAa,4BAA4B,aAAe,8BAA8B,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,eAAiB,gCAAgC,qBAAuB,sCAAsC,6BAA+B,8CAA8C,UAAY,6B,+FCkBhmBC,EAfI,SAACC,GAChB,IAAIC,EAAO,YAAcD,EAAME,GAE/B,OACI,yBAAKC,UAAWC,IAAEC,QACd,kBAAC,IAAD,CAASC,GAAIL,GACT,yBAAKE,UAAWC,IAAEG,cACd,yBAAKC,IAAI,uEAAuEC,IAAI,KACpF,yBAAKN,UAAWC,IAAEM,cAAeV,EAAMW,UCH5CC,EANC,SAACZ,GACb,OACI,yBAAKG,UAAWC,IAAES,SAAUb,EAAMa,U,kCCCpCC,EAAeC,YAAiB,KAWvBC,cAAU,CAACC,KAAK,wBAAhBD,EATQ,SAAChB,GACpB,OACI,0BAAMkB,SAAUlB,EAAMmB,aAAchB,UAAWC,IAAEgB,WAC7C,kBAACC,EAAA,EAAD,CAAOV,KAAK,iBAAiBW,UAAWC,IAAUC,SAAU,CAACV,GAAeW,YAAY,4GACxF,4BAAQtB,UAAWC,IAAEsB,8BAArB,8DC+BGC,EApCC,SAAC3B,GACb4B,qBAAU,WAAOC,SAASC,MAAQ,+CAAW,IAE7C,IAAIC,EAAQ/B,EAAMgC,YACdC,EAAkBF,EAAMG,QAAQC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAYzB,KAAMyB,EAAEzB,KAAMT,GAAIkC,EAAElC,GAAImC,IAAKD,EAAElC,QACpFoC,EAAmBP,EAAMQ,SAASJ,KAAI,SAAAK,GAAC,OAAI,kBAAC,EAAD,CAAS3B,QAAS2B,EAAE3B,QAASwB,IAAKG,EAAEtC,QAOnF,OACI,yBAAKC,UAAU,4BACX,yBAAKA,UAAU,aACX,yBAAKA,UAAWC,IAAE8B,SACd,yBAAK/B,UAAWC,IAAEqC,gBACd,yBAAKtC,UAAWC,IAAEsC,kBAAlB,8CACCT,GAGL,yBAAK9B,UAAWC,IAAEmC,UACd,yBAAKpC,UAAWC,IAAEuC,gBACbL,GAEL,yBAAKnC,UAAWC,IAAEwC,sBACd,kBAAC,EAAD,CAAgB1B,SAnBlB,SAAC2B,GACnB7C,EAAM8C,YAAYD,EAASE,gBAC3BF,EAASE,eAAiB,Y,gBCZ5BC,EAA6B,SAACjB,GAAD,MAAY,CAC3CkB,OAAQlB,EAAMmB,KAAKD,S,OCenBE,EAAmBC,kBACnBC,aAdkB,SAACtB,GACnB,MAAO,CACHC,YAAaD,EAAMC,gBAGF,SAACsB,GACtB,MAAO,CACHR,YAAa,SAACC,GACVO,EAASC,YAA4BR,UDPjB,SAACS,GAM7B,OAAOH,YAAQL,EAARK,EALmB,SAACrD,GACvB,OAAKA,EAAMiD,OAEJ,kBAACO,EAAcxD,GAFI,kBAAC,IAAD,CAAUM,GAAG,gBCUxB8C,CAGrBzB,GAEawB","file":"static/js/5.d16d0faa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1rZp3\",\"dialogs__items\":\"Dialogs_dialogs__items__1bzqs\",\"dialogs__heading\":\"Dialogs_dialogs__heading__2INac\",\"dialog\":\"Dialogs_dialog__tXQiq\",\"activeLink\":\"Dialogs_activeLink__KOS1c\",\"dialog__item\":\"Dialogs_dialog__item__1YK55\",\"dialog__name\":\"Dialogs_dialog__name__28-pc\",\"active\":\"Dialogs_active__1k5og\",\"messages\":\"Dialogs_messages__132TH\",\"message\":\"Dialogs_message__2xLUt\",\"messages__chat\":\"Dialogs_messages__chat__euehu\",\"messages__newMessage\":\"Dialogs_messages__newMessage__3GiwV\",\"messages__newMessage__button\":\"Dialogs_messages__newMessage__button__2Pk6E\",\"dContents\":\"Dialogs_dContents__2kJkk\"};","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink to={path}>\r\n                <div className={s.dialog__item}>\r\n                    <img src=\"https://sun9-65.userapi.com/c845418/v845418867/a090a/5dIarTfS9B8.jpg\" alt=\"\"/>\r\n                    <div className={s.dialog__name}>{props.name}</div>\r\n                </div>\r\n            </NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>{props.message}</div>\r\n    );\r\n}\r\n\r\nexport default Message;","import s from \"../Dialogs.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormControls/FormControls\";\r\nimport React from \"react\";\r\nimport {maxLengthCreator} from \"../../../utils/validators/validators\";\r\n\r\nconst maxLength100 = maxLengthCreator(100);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit} className={s.dContents}>\r\n            <Field name=\"newMessageText\" component={Textarea} validate={[maxLength100]} placeholder=\"Напишите сообщение\"/>\r\n            <button className={s.messages__newMessage__button}>Отправить</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default reduxForm({form:\"dialogAddMessageForm\"})(AddMessageForm);","import React, {useEffect} from \"react\";\r\nimport s from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport AddMessageForm from \"./AddMessageForm/AddMessageForm\";\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    useEffect(() => {document.title = \"Диалоги\"},[]);\r\n\r\n    let state = props.dialogsPage;\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} id={d.id} key={d.id} />);        // Маппим данные диалогов в элементы\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} key={m.id} />);               // Маппим данные сообщений в элементы\r\n\r\n    const addNewMessage = (formData) => {\r\n        props.sendMessage(formData.newMessageText);\r\n        formData.newMessageText = \"\";\r\n    };\r\n\r\n    return (\r\n        <div className=\"content content__dialogs\">\r\n            <div className=\"container\">\r\n                <div className={s.dialogs}>\r\n                    <div className={s.dialogs__items}>\r\n                        <div className={s.dialogs__heading}>Диалоги</div>\r\n                        {dialogsElements}\r\n                    </div>\r\n\r\n                    <div className={s.messages}>\r\n                        <div className={s.messages__chat}>\r\n                            {messagesElements}\r\n                        </div>\r\n                        <div className={s.messages__newMessage}>\r\n                            <AddMessageForm onSubmit={addNewMessage}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    const RedirectComponent = (props) => {\r\n        if (!props.isAuth) return <Redirect to=\"/login\" />;\r\n\r\n        return <Component {...props} />\r\n    };\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n};","import React from \"react\";\r\nimport {sendNewMessageActionCreator} from \"../../Redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageText) => {\r\n            dispatch(sendNewMessageActionCreator(newMessageText));\r\n        }\r\n    }\r\n};\r\n\r\nlet DialogsContainer = compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect,\r\n)(Dialogs);\r\n\r\nexport default DialogsContainer;"],"sourceRoot":""}