{"version":3,"sources":["components/Users/users.module.css","components/common/Paginator/Paginator.module.css","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","Redux/users/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","isLeftDisabled","isRightDisabled","className","styles","paginator","arrows","disabled","onClick","filter","page","map","index","key","selectedPage","undefined","e","User","user","isFollowing","follow","unfollow","userBlock","id","avatar_follow_block","to","src","photos","large","userPhoto","alt","avatar_img","followed","some","unfollowButton","followButton","aboutUser_block","name_block","name","status_block","status","Users","totalUsersCount","props","pageTitle","isFetching","Preloader","body","users","getUsers","state","usersPage","getPagesize","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowing","UsersContainer","pageNumber","requestUsers","this","document","title","React","Component","compose","connect","setCurrentPage","toggleIsFollowing"],"mappings":"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","file":"static/js/3.ca0e8e1d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageTitle\":\"users_pageTitle__20YzM\",\"body\":\"users_body__4tW86\",\"userBlock\":\"users_userBlock__3j0EK\",\"avatar_img\":\"users_avatar_img__1KKc2\",\"avatar_follow_block\":\"users_avatar_follow_block__3PjwU\",\"followButton\":\"users_followButton__olwdj\",\"unfollowButton\":\"users_unfollowButton__2zHp9\",\"aboutUser_block\":\"users_aboutUser_block__3Jd61\",\"name_block\":\"users_name_block__1hsaz\",\"name\":\"users_name__1z1Yd\",\"status_block\":\"users_status_block__3x33W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2h-qX\",\"arrows\":\"Paginator_arrows__I10ww\",\"selectedPage\":\"Paginator_selectedPage__1B1i5\"};","import styles from \"./Paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    const pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    let isLeftDisabled = portionNumber > 1 ? false : true;\r\n    let isRightDisabled = portionCount > portionNumber ? false : true;\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            <button className={styles.arrows} disabled={isLeftDisabled}\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber - 1)\r\n                    }}><i className=\"fas fa-angle-left\"/>\r\n            </button>\r\n            {pages.filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber).map((page,index) => (\r\n                <button key={index} className={currentPage === page ? styles.selectedPage : undefined}\r\n                        onClick={(e) => {\r\n                            onPageChanged(page)\r\n                        }}>{page}</button>\r\n            ))}\r\n            <button className={styles.arrows}\r\n                    disabled={isRightDisabled}\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber + 1)\r\n                    }}><i className=\"fas fa-angle-right\"/>\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Paginator;","import styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.svg\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, isFollowing, follow, unfollow, ...props}) => {\r\n    return (\r\n        <div className={styles.userBlock} key={user.id}>\r\n            <div className={styles.avatar_follow_block}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <div><img src={user.photos.large != null ? user.photos.large : userPhoto}\r\n                              alt=\"Фото\"\r\n                              className={styles.avatar_img}/>\r\n                    </div>\r\n                </NavLink>\r\n                {user.followed\r\n                    ? <button disabled={isFollowing.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  unfollow(user.id)\r\n                              }}\r\n                              className={styles.unfollowButton}>Отписаться</button>\r\n                    : <button disabled={isFollowing.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  follow(user.id)\r\n                              }}\r\n                              className={styles.followButton}>Подписаться</button>\r\n                }\r\n            </div>\r\n            <div className={styles.aboutUser_block}>\r\n                <div className={styles.name_block}>\r\n                    <div className={styles.name}>{user.name}</div>\r\n                </div>\r\n                <div className={styles.status_block}>\r\n                    Cтатус: <p>{user.status}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import styles from \"./users.module.css\";\r\nimport React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({totalUsersCount, currentPage, onPageChanged, pageSize, ...props}) => {\r\n    return (\r\n        <div className=\"content\">\r\n            <div className=\"container\">\r\n                <div className={styles.pageTitle}>\r\n                    Поиск пользователей\r\n                </div>\r\n                <Paginator currentPage={currentPage}\r\n                           onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n\r\n                {props.isFetching\r\n                    ? <Preloader/>\r\n                    : <div className={styles.body}>\r\n                        {props.users.map(user => <User user={user} key={user.id}\r\n                                                       unfollow={props.unfollow} isFollowing={props.isFollowing}\r\n                                                       follow={props.follow}/>)\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getPagesize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getIsFollowing = (state) => {\r\n    return state.usersPage.isFollowing;\r\n};","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage, toggleIsFollowing, unfollow,\r\n} from \"../../Redux/users/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getUsers,\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getIsFollowing,\r\n    getPagesize,\r\n    getTotalUsersCount\r\n} from \"../../Redux/users/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n        document.title = \"Пользователи\";\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Users totalUsersCount={this.props.totalUsersCount}\r\n                       pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage}\r\n                       follow={this.props.follow}\r\n                       unfollow={this.props.unfollow}\r\n                       onPageChanged={this.onPageChanged}\r\n                       users={this.props.users}\r\n                       isFetching={this.props.isFetching}\r\n                       isFollowing={this.props.isFollowing}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPagesize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowing: getIsFollowing(state)\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleIsFollowing, requestUsers}),\r\n    // withAuthRedirect,\r\n)(UsersContainer);"],"sourceRoot":""}